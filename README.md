# mimo_adrc: 6-DOF 全向无人机 ADRC 仿真

这是一个基于 **ROS 2** 的模块化自抗扰控制 (ADRC) 仿真工作空间，专门针对 6 自由度全向无人机设计。项目实现了位置环与姿态环的完全解耦控制，并集成了扩张状态观测器 (ESO) 以实现主动干扰补偿。

## 1. 项目核心组件
* **算法库 (`adrc_lib`)**：封装了 `ADRC.cpp` 和 `MimoADRC.cpp`，提供多变量 ADRC 核心计算逻辑。
* **仿真节点 (`mimo_node`)**：
    * **频率**：500Hz (采样步长 $h = 0.002s$)。
    * **控制维度**：位置 (X, Y, Z) 和姿态 (Roll, Pitch, Yaw)。
    * **动力学模拟**：内置了基于质量 (3.0kg) 和惯量的 6-DOF 简易动力学模型。

## 2. 仿真运行逻辑
该节点预设了完整的测试流程：
1.  **0s - 10s**：系统静止，处于准备状态。
2.  **10s - 30s**：执行控制任务。
    * **轨迹追踪**：在 X-Y 平面追踪“8字形”航线，Z 轴保持 1.0m 高度。
    * **推力干扰注入 (Y轴)**：
        * 15s - 20s：注入 3.0N 恒定干扰。
        * 20s - 25s：注入正弦变力干扰 $2 \cdot \sin(2t)$。
    * **力矩干扰注入 (Pitch轴)**：
        * 22s - 27s：注入 0.5N·m 恒定干扰。
3.  **30s 时刻**：仿真完成，节点自动调用 `rclcpp::shutdown()` 关闭。

## 3. 快速上手指南

### 编译项目
在工作空间根目录 `adrc_new_ws` 下运行：
```bash
colcon build --packages-select mimo_adrc
source install/setup.bash